<div class="wrapper">

  <nav class="main-header navbar navbar-expand navbar-yellow navbar-light">

    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link" data-widget="pushmenu" href="#" role="button"><i class="fas fa-bars"></i></a>
      </li>
    </ul>

    <ul class="navbar-nav ml-auto">
      <li class="nav-item">
        <a class="nav-link" role="button">
          <i class="fas fa-solid fa-user" style="font-size: 24px;"></i>
          <span style="margin-left: 5px;position: relative; top: -8px;">{{ name }}</span> <br>
          <span style="margin-left: 44px;font-size: 10px; color: green; position: relative; top: -15px;">{{ userRole!.replaceAll('_', ' ') }}</span>
        </a>
      </li>
    </ul>
  </nav>

  <aside class="main-sidebar sidebar-dark-primary elevation-4">

    <a [routerLink]="userRole === 'ADMIN_PENERIMAAN' ? '/dashboard-admin-penerimaan' :
                  userRole === 'FRONT_OFFICE' ? '/dashboard-front-office' :
                  userRole === 'MANAGER_FUNDRAISING' ? '/dashboard-manager-fundraising' :
                  userRole === 'TIM_JEMPUT_DONASI' ? '/dashboard-tim-jemput-donasi' :
                  userRole === 'PETUGAS_PUNDI' ? '/dashboard-petugas-pundi' :
                  userRole === 'MARKETING_KOMUNIKASI' ? '/dashboard-marketing-komunikasi' : ''" class="brand-link navbar-yellow">
      <img src="../../../assets/img/logo.jpg" alt="Logo" class="brand-image img-circle elevation-1">
      <span class="brand-text">Fundraising</span>
    </a>

    <div class="sidebar" style="background: #6A0000">

      <nav class="mt-2">
        <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">

          <li class="nav-item">
            <a [routerLink]="userRole === 'ADMIN_PENERIMAAN' ? '/dashboard-admin-penerimaan' :
                  userRole === 'FRONT_OFFICE' ? '/dashboard-front-office' :
                  userRole === 'MANAGER_FUNDRAISING' ? '/dashboard-manager-fundraising' :
                  userRole === 'TIM_JEMPUT_DONASI' ? '/dashboard-tim-jemput-donasi' :
                  userRole === 'PETUGAS_PUNDI' ? '/dashboard-petugas-pundi' :
                  userRole === 'MARKETING_KOMUNIKASI' ? '/dashboard-marketing-komunikasi' : ''"
               class="nav-link" (click)="activeMenu = 'dashboard'" [ngClass]="{'active': activeMenu === 'dashboard'}">
              <i class="nav-icon fas fa-tachometer-alt"></i>
              <p>
                Dashboard
              </p>
            </a>
          </li>

          <li class="nav-item" [ngClass]="{'menu-open': activeMenu === 'tamu' || activeMenu === 'donatur' || activeMenu === 'pundi'}">
            <a href="#" class="nav-link">
              <i class="nav-icon fas fa-copy"></i>
              <p>
                Data Master
                <i class="fas fa-angle-left right"></i>
              </p>
            </a>
            <ul class="nav nav-treeview">
              <li *ngIf="userRole === 'FRONT_OFFICE' || userRole === 'ADMIN_PENERIMAAN' || userRole === 'MANAGER_FUNDRAISING'" class="nav-item">
                <a routerLink="tamu" class="nav-link" (click)="activeMenu = 'tamu'" [ngClass]="{'active': activeMenu === 'tamu'}">
                  <i class="far fa-circle nav-icon"></i>
                  <p>Data Tamu</p>
                </a>
              </li>

              <li *ngIf="userRole === 'MARKETING_KOMUNIKASI' || userRole === 'FRONT_OFFICE' || userRole === 'ADMIN_PENERIMAAN' || userRole === 'MANAGER_FUNDRAISING' || userRole === 'TIM_JEMPUT_DONASI'" class="nav-item">
                <a routerLink="donatur" class="nav-link" (click)="activeMenu = 'donatur'" [ngClass]="{'active': activeMenu === 'donatur'}">
                  <i class="far fa-circle nav-icon"></i>
                  <p>Data Donatur</p>
                </a>
              </li>

              <li *ngIf="userRole === 'PETUGAS_PUNDI' ||  userRole === 'ADMIN_PENERIMAAN' || userRole === 'MANAGER_FUNDRAISING'" class="nav-item">
                <a routerLink="pundi" class="nav-link" (click)="activeMenu = 'pundi'" [ngClass]="{'active': activeMenu === 'pundi'}">
                  <i class="far fa-circle nav-icon"></i>
                  <p>Data Pundi</p>
                </a>
              </li>
            </ul>
          </li>
          <li class="nav-item" [ngClass]="{'menu-open': activeMenu === 'donasi-cash' || activeMenu === 'donasi-pundi-fo'}">
            <a *ngIf="userRole === 'FRONT_OFFICE' ||  userRole === 'ADMIN_PENERIMAAN' || userRole === 'MANAGER_FUNDRAISING' || userRole === 'TIM_JEMPUT_DONASI'" href="#" class="nav-link">
              <i class="nav-icon fas fas-solid fa-wallet"></i>
              <p>
                Data Donasi Tunai
                <i class="right fas fa-angle-left"></i>
              </p>
            </a>
            <ul class="nav nav-treeview">
              <li *ngIf="userRole === 'FRONT_OFFICE' ||  userRole === 'ADMIN_PENERIMAAN' || userRole === 'MANAGER_FUNDRAISING' || userRole === 'TIM_JEMPUT_DONASI'" class="nav-item">
                <a routerLink="donasi-cash" class="nav-link" (click)="activeMenu = 'donasi-cash'" [ngClass]="{'active': activeMenu === 'donasi-cash'}">
                  <i class="far fa-circle nav-icon"></i>
                  <p>Donasi Cash</p>
                </a>
              </li>
              <li *ngIf="userRole === 'FRONT_OFFICE' ||  userRole === 'ADMIN_PENERIMAAN' || userRole === 'MANAGER_FUNDRAISING'" class="nav-item">
                <a routerLink="donasi-pundi-fo" class="nav-link" (click)="activeMenu = 'donasi-pundi-fo'" [ngClass]="{'active': activeMenu === 'donasi-pundi-fo'}">
                  <i class="far fa-circle nav-icon"></i>
                  <p>Donasi Pundi FO</p>
                </a>
              </li>
            </ul>
            <!--          </li>-->
          <li class="nav-header">TRANSAKSI</li>


          <li *ngIf="userRole === 'MARKETING_KOMUNIKASI' || userRole === 'FRONT_OFFICE' ||  userRole === 'ADMIN_PENERIMAAN' || userRole === 'MANAGER_FUNDRAISING'" class="nav-item">
            <a routerLink="donasi-transfer" class="nav-link" (click)="activeMenu = 'donasi-transfer'" [ngClass]="{'active': activeMenu === 'donasi-transfer'}">
              <i class="nav-icon fas fa-solid fa-money-bill"></i>
              <p>
                Donasi Transfer
              </p>
            </a>
          </li>

          <li *ngIf="userRole === 'FRONT_OFFICE' ||  userRole === 'ADMIN_PENERIMAAN' || userRole === 'MANAGER_FUNDRAISING'" class="nav-item">
            <a routerLink="donasi-non-tunai" class="nav-link" (click)="activeMenu = 'donasi-non-tunai'" [ngClass]="{'active': activeMenu === 'donasi-non-tunai'}">
              <i class="nav-icon fas fa-solid fa-hand-holding-usd"></i>
              <p>
                Donasi Non Tunai
              </p>
            </a>
          </li>

          <li *ngIf="userRole === 'PETUGAS_PUNDI' ||  userRole === 'ADMIN_PENERIMAAN' || userRole === 'MANAGER_FUNDRAISING' " class="nav-item">
            <a routerLink="donasi-pundi" class="nav-link" (click)="activeMenu = 'donasi-pundi'" [ngClass]="{'active': activeMenu === 'donasi-pundi'}">
              <i class="nav-icon fas fa-solid fa-landmark"></i>
              <p>
                Donasi Pundi
              </p>
            </a>
          </li>

          <li class="nav-item" [ngClass]="{'menu-open': activeMenu === 'santunan-acara' || activeMenu === 'setor-tunai' || activeMenu === 'pengeluaran-non-tunai'}">
            <a href="#" class="nav-link">
              <i class="nav-icon fas fa-edit"></i>
              <p>
                Pengeluaran
                <i class="fas fa-angle-left right"></i>
              </p>
            </a>
            <ul class="nav nav-treeview">
              <li *ngIf="userRole === 'FRONT_OFFICE' ||  userRole === 'ADMIN_PENERIMAAN' || userRole === 'MANAGER_FUNDRAISING'" class="nav-item">
                <a routerLink="santunan-acara" class="nav-link" (click)="activeMenu = 'santunan-acara'" [ngClass]="{'active': activeMenu === 'santunan-acara'}">
                  <i class="far fa-circle nav-icon"></i>
                  <p>Santunan Acara</p>
                </a>
              </li>
              <li class="nav-item">
                <a routerLink="setor-tunai" class="nav-link" (click)="activeMenu = 'setor-tunai'" [ngClass]="{'active': activeMenu === 'setor-tunai'}">
                  <i class="far fa-circle nav-icon"></i>
                  <p>Setor Tunai</p>
                </a>
              </li>
              <li *ngIf="userRole === 'FRONT_OFFICE' ||  userRole === 'ADMIN_PENERIMAAN' || userRole === 'MANAGER_FUNDRAISING'" class="nav-item">
                <a routerLink="pengeluaran-non-tunai" class="nav-link" (click)="activeMenu = 'pengeluaran-non-tunai'" [ngClass]="{'active': activeMenu === 'pengeluaran-non-tunai'}">
                  <i class="far fa-circle nav-icon"></i>
                  <p>Pengeluaran Non Tunai</p>
                </a>
              </li>
            </ul>
          </li>
          <li class="nav-item">
            <a routerLink="validasi-harian" class="nav-link" (click)="activeMenu = 'validasi-harian'" [ngClass]="{'active': activeMenu === 'validasi-harian'}">
              <i class="nav-icon fas fa-solid fa-comment-dollar"></i>
              <p>
                Validasi Harian
              </p>
            </a>
          </li>

          <li *ngIf="userRole === 'ADMIN_PENERIMAAN' || userRole === 'MANAGER_FUNDRAISING'" class="nav-item">
            <a routerLink="report"  class="nav-link">
              <i class="nav-icon fas fa-th"></i>
              <p>
                Laporan
              </p>
            </a>
          </li>

          <li *ngIf="userRole === 'ADMIN_PENERIMAAN' || userRole === 'MANAGER_FUNDRAISING'" class="nav-item">
            <a routerLink="pengguna" class="nav-link" (click)="activeMenu = 'pengguna'" [ngClass]="{'active': activeMenu === 'pengguna'}">
              <i class="nav-icon fas fa-user"></i>
              <p>
                Data User
              </p>
            </a>
          </li>
          <li class="nav-item">
            <a (click)="openLogoutModal(confirmContent)" routerLink="" class="nav-link">
              <i class="nav-icon fas fa-user"></i>
              <p>
                Logout
              </p>
            </a>
          </li>
        </ul>
      </nav>
    </div>
  </aside>

  <div class="content-wrapper">

    <section class="content">
      <div class="container-fluid">
        <div class="row">

          <router-outlet></router-outlet>

          <ng-template #confirmContent let-modal>
            <div class="modal-header">
              <h1 class="modal-title fs-5">Konfirmasi Logout</h1>
              <button type="button" (click)="modal.close()" class="btn-close" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              Anda yakin ingin logout?
            </div>
            <div class="modal-footer">
              <button (click)="modal.close()" type="button" class="btn btn-secondary">Tidak</button>
              <button (click)="logout(); modal.close()" type="button" class="btn btn-danger" id="logout">
                Logout
              </button>
            </div>
          </ng-template>

        </div>

      </div>
    </section>

  </div>

  <footer class="main-footer">
    <strong>Copyright &copy; 2023 </strong>
  </footer>

  <aside class="control-sidebar control-sidebar-dark">

  </aside>

</div>


