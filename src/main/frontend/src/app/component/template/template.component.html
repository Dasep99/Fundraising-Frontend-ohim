<div class="wrapper">

  <nav class="main-header navbar navbar-expand navbar-yellow navbar-light sticky-top">

    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link" data-widget="pushmenu" href="#" role="button"><i class="fas fa-bars"></i></a>
      </li>
    </ul>

    <ul class="navbar-nav ml-auto">
      <li class="nav-item dropdown">
        <a class="nav-link" data-toggle="dropdown" aria-expanded="false" role="button">
          <i class="fas fa-user fs-4" style="position: relative; top: -20px; left: -5px;"></i>
          <span class="d-inline-block">
          <span style="position: relative; top: -8px;">{{ name }}</span><br>
          <span style="color: green; font-size: 10px; position: relative; top: -15px;">{{ userRole!.replaceAll('_', ' ') }}</span>
          </span>
        </a>
        <div class="dropdown-menu dropdown-menu-right">
          <a class="dropdown-item" role="button">
            <i class="fas fa-sync"></i> Ganti Password
          </a>
          <a (click)="openLogoutModal(confirmContent)" class="dropdown-item" role="button">
            <i class="fas fa-sign-out-alt"></i> Logout
          </a>
        </div>
      </li>
    </ul>
  </nav>

  <aside class="main-sidebar sidebar-dark-primary elevation-4">

    <a routerLink="" class="brand-link navbar-yellow">
      <img src="../../../assets/img/logo.jpg" alt="Logo" class="brand-image img-circle elevation-1">
      <span class="brand-text">Fundraising</span>
    </a>

    <div class="sidebar" style="background: #6A0000">

      <nav class="mt-2">
        <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">

          <li class="nav-item">
            <a [routerLink]="userRole === 'ADMIN_PENERIMAAN' ? '/dashboard-admin-penerimaan' :
                  userRole === 'FRONT_OFFICE' ? '/dashboard-front-office' :
                  userRole === 'MANAGER_FUNDRAISING' ? '/dashboard-manager-fundraising' :
                  userRole === 'TIM_JEMPUT_DONASI' ? '/dashboard-tim-jemput-donasi' :
                  userRole === 'PETUGAS_PUNDI' ? '/dashboard-petugas-pundi' :
                  userRole === 'CRM' ? '/dashboard-marketing-komunikasi' : ''"
               class="nav-link" (click)="activeMenu = 'dashboard'" [ngClass]="{'active': activeMenu === 'dashboard'}">
              <i class="nav-icon fas fa-tachometer-alt"></i>
              <span class="brand-text">Dashboard</span>
            </a>
          </li>

          <!--          <li class="nav-item menu-open">-->
          <!--            <a href="#" class="nav-link">-->
          <!--              <i class="nav-icon fas fa-copy"></i>-->
          <!--              <span class="brand-text">Data Master<i class="fas fa-angle-left right"></i></span>-->
          <!--            </a>-->
          <!--            <ul class="nav nav-treeview">-->
          <li *ngIf="userRole === 'ADMIN_PENERIMAAN' || userRole === 'MANAGER_FUNDRAISING'" class="nav-item">
            <a routerLink="pengguna" class="nav-link" (click)="activeMenu = 'pengguna'" [ngClass]="{'active': activeMenu === 'pengguna'}">
              <i class="nav-icon fas fa-user"></i>
              <span class="brand-text">Data User</span>
            </a>
          </li>
          <li *ngIf="userRole === 'CRM' || userRole === 'FRONT_OFFICE' || userRole === 'ADMIN_PENERIMAAN' || userRole === 'MANAGER_FUNDRAISING' || userRole === 'TIM_JEMPUT_DONASI'" class="nav-item">
            <a routerLink="donatur" class="nav-link" (click)="activeMenu = 'donatur'" [ngClass]="{'active': activeMenu === 'donatur'}">
              <i class="nav-icon fas fa-address-book"></i>
              <span class="brand-text">Data Donatur</span>
            </a>
          </li>
          <li *ngIf="userRole === 'PETUGAS_PUNDI' || userRole === 'ADMIN_PENERIMAAN' || userRole === 'MANAGER_FUNDRAISING'" class="nav-item">
            <a routerLink="pundi" class="nav-link" (click)="activeMenu = 'pundi'" [ngClass]="{'active': activeMenu === 'pundi'}">
              <i class="nav-icon fas fa-archive"></i>
              <span class="brand-text">Data Pundi</span>
            </a>
          </li>
          <!--              <li *ngIf="userRole === 'FRONT_OFFICE' || userRole === 'ADMIN_NON_TUNAI' || userRole === 'MANAGER_FUNDRAISING'" class="nav-item">-->
          <!--                <a routerLink="barang" class="nav-link" (click)="activeMenu = 'barang'" [ngClass]="{'active': activeMenu === 'barang'}">-->
          <!--                  <i class="nav-icon fas fa-boxes"></i>-->
          <!--                  <span class="brand-text">Data Barang</span>-->
          <!--                </a>-->
          <!--              </li>-->
          <!--            </ul>-->
          <!--          </li>-->

          <!--          <li class="nav-item menu-open">-->
          <!--            <a *ngIf="userRole === 'FRONT_OFFICE' || userRole === 'ADMIN_PENERIMAAN' || userRole === 'MANAGER_FUNDRAISING' || userRole === 'TIM_JEMPUT_DONASI'" href="#" class="nav-link">-->
          <!--              <i class="nav-icon fas fas-solid fa-wallet"></i>-->
          <!--              <span class="brand-text">Data Donasi Tunai<i class="right fas fa-angle-left"></i></span>-->
          <!--            </a>-->
          <!--            <ul class="nav nav-treeview">-->
          <li *ngIf="userRole === 'FRONT_OFFICE' || userRole === 'ADMIN_PENERIMAAN' || userRole === 'MANAGER_FUNDRAISING' || userRole === 'TIM_JEMPUT_DONASI'" class="nav-item">
            <a routerLink="donasi-cash" class="nav-link" (click)="activeMenu = 'donasi-cash'" [ngClass]="{'active': activeMenu === 'donasi-cash'}">
              <i class="nav-icon fas fa-donate"></i>
              <span class="brand-text">Donasi Cash</span>
            </a>
          </li>
          <li *ngIf="userRole === 'CRM' || userRole === 'FRONT_OFFICE' || userRole === 'ADMIN_PENERIMAAN' || userRole === 'MANAGER_FUNDRAISING'" class="nav-item">
            <a routerLink="donasi-transfer" class="nav-link" (click)="activeMenu = 'donasi-transfer'" [ngClass]="{'active': activeMenu === 'donasi-transfer'}">
              <i class="nav-icon fas fa-credit-card"></i>
              <span class="brand-text">Donasi Transfer</span>
            </a>
          </li>
          <li *ngIf="userRole === 'PETUGAS_PUNDI' || userRole === 'ADMIN_PENERIMAAN' || userRole === 'MANAGER_FUNDRAISING' " class="nav-item">
            <a routerLink="donasi-pundi" class="nav-link" (click)="activeMenu = 'donasi-pundi'" [ngClass]="{'active': activeMenu === 'donasi-pundi'}">
              <i class="nav-icon fas fa-dolly"></i>
              <span class="brand-text">Donasi Pundi</span>
            </a>
          </li>
          <!--            </ul>-->
          <!--          </li>-->

          <li *ngIf="userRole === 'FRONT_OFFICE' || userRole === 'ADMIN_NON_TUNAI' || userRole === 'MANAGER_FUNDRAISING'" class="nav-item">
            <a routerLink="donasi-non-tunai" class="nav-link" (click)="activeMenu = 'donasi-non-tunai'" [ngClass]="{'active': activeMenu === 'donasi-non-tunai'}">
              <i class="nav-icon fas fa-hand-holding-water"></i>
              <span class="brand-text">Donasi Non Tunai</span>
            </a>
          </li>

          <li *ngIf="userRole === 'FRONT_OFFICE' || userRole === 'ADMIN_PENERIMAAN' || userRole === 'MANAGER_FUNDRAISING'" class="nav-item">
            <a routerLink="tamu" class="nav-link" (click)="activeMenu = 'tamu'" [ngClass]="{'active': activeMenu === 'tamu'}">
              <i class="nav-icon fas fa-house-user"></i>
              <span class="brand-text">Kunjungan Tamu</span>
            </a>
          </li>

          <!--          <li class="nav-item menu-open">-->
          <!--            <a href="#" class="nav-link">-->
          <!--              <i class="nav-icon fas fa-edit"></i>-->
          <!--              <span class="brand-text">Pengeluaran<i class="fas fa-angle-left right"></i></span>-->
          <!--            </a>-->
          <!--            <ul class="nav nav-treeview">-->
          <li *ngIf="userRole === 'FRONT_OFFICE' || userRole === 'ADMIN_PENERIMAAN' || userRole === 'MANAGER_FUNDRAISING'" class="nav-item">
            <a routerLink="santunan-acara" class="nav-link" (click)="activeMenu = 'santunan-acara'" [ngClass]="{'active': activeMenu === 'santunan-acara'}">
              <i class="nav-icon fas fa-hands-helping"></i>
              <span class="brand-text">Santunan Acara</span>
            </a>
          </li>
          <li class="nav-item">
            <a routerLink="setor-tunai" class="nav-link" (click)="activeMenu = 'setor-tunai'" [ngClass]="{'active': activeMenu === 'setor-tunai'}">
              <i class="nav-icon fas fa-money-bill-wave"></i>
              <span class="brand-text">Setor Tunai</span>
            </a>
          </li>
          <li *ngIf="userRole === 'FRONT_OFFICE' || userRole === 'ADMIN_NON_TUNAI' || userRole === 'MANAGER_FUNDRAISING'" class="nav-item">
            <a routerLink="pengeluaran-non-tunai" class="nav-link" (click)="activeMenu = 'pengeluaran-non-tunai'" [ngClass]="{'active': activeMenu === 'pengeluaran-non-tunai'}">
              <i class="nav-icon fas fa-dolly-flatbed"></i>
              <span class="brand-text">Pengeluaran Non Tunai</span>
            </a>
          </li>
          <!--            </ul>-->
          <!--          </li>-->

          <!--          <li class="nav-item menu-open">-->
          <!--            <a href="#" class="nav-link">-->
          <!--              <i class="nav-icon fas fa-edit"></i>-->
          <!--              <span class="brand-text">Laporan<i class="fas fa-angle-left right"></i></span>-->
          <!--            </a>-->
          <!--            <ul class="nav nav-treeview">-->
          <!--              <li *ngIf="userRole === 'FRONT_OFFICE' || userRole === 'ADMIN_PENERIMAAN' || userRole === 'MANAGER_FUNDRAISING'" class="nav-item">-->
          <!--                <a routerLink="laporan-tunai" class="nav-link" (click)="activeMenu = 'laporan-tunai'" [ngClass]="{'active': activeMenu === 'laporan-tunai'}">-->
          <!--                  <i class="nav-icon fas fa-file-invoice-dollar"></i>-->
          <!--                  <span class="brand-text">Laporan Tunai</span>-->
          <!--                </a>-->
          <!--              </li>-->
          <!--              <li *ngIf="userRole === 'FRONT_OFFICE' || userRole === 'ADMIN_NON_TUNAI' || userRole === 'MANAGER_FUNDRAISING'" class="nav-item">-->
          <!--                <a routerLink="laporan-non-tunai" class="nav-link" (click)="activeMenu = 'laporan-non-tunai'" [ngClass]="{'active': activeMenu === 'laporan-non-tunai'}">-->
          <!--                  <i class="nav-icon fas fa-file-invoice"></i>-->
          <!--                  <span class="brand-text">Laporan Non Tunai</span>-->
          <!--                </a>-->
          <!--              </li>-->
          <!--              <li *ngIf="userRole === 'FRONT_OFFICE' || userRole === 'MANAGER_FUNDRAISING'" class="nav-item">-->
          <!--                <a routerLink="rekap" class="nav-link" (click)="activeMenu = 'rekap'" [ngClass]="{'active': activeMenu === 'rekap'}">-->
          <!--                  <i class="nav-icon fas fa-book"></i>-->
          <!--                  <span class="brand-text">Rekap</span>-->
          <!--                </a>-->
          <!--              </li>-->
          <!--            </ul>-->
          <!--          </li>-->

          <li class="nav-item">
            <a routerLink="validasi-harian" class="nav-link" (click)="activeMenu = 'validasi-harian'" [ngClass]="{'active': activeMenu === 'validasi-harian'}">
              <i class="nav-icon fas fa-calendar-check"></i>
              <span class="brand-text">Validasi Harian</span>
            </a>
          </li>
          <li class="nav-item">
            <a routerLink="targets" class="nav-link" (click)="activeMenu = 'targets'" [ngClass]="{'active': activeMenu === 'targets'}">
              <i class="nav-icon fas fa-bullseye"></i>
              <span class="brand-text">Target</span>
            </a>
          </li>
          <li class="nav-item">
            <a routerLink="penerimaan_akad" class="nav-link" (click)="activeMenu = 'penerimaan_akad'" [ngClass]="{'active': activeMenu === 'penerimaan_akad'}">
              <i class="nav-icon fas fa-calendar-check"></i>
              <span class="brand-text">Penerimaan Perakad</span>
            </a>
          </li>
        </ul>
      </nav>
    </div>
  </aside>

  <div class="content-wrapper">

    <section class="content">
      <div class="container-fluid">
        <div class="row">

          <router-outlet></router-outlet>

          <ng-template #confirmContent let-modal>
            <div class="modal-header">
              <h1 class="modal-title fs-5">Konfirmasi Logout</h1>
              <button type="button" (click)="modal.close()" class="btn-close" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              Anda yakin ingin logout?
            </div>
            <div class="modal-footer">
              <button (click)="modal.close()" type="button" class="btn btn-secondary">Tidak</button>
              <button (click)="logout(); modal.close()" type="button" class="btn btn-danger ml-2" id="logout">
                Logout
              </button>
            </div>
          </ng-template>

        </div>

      </div>
    </section>

  </div>

  <footer class="main-footer">
    <strong>Copyright &copy; 2023 </strong>
  </footer>

  <aside class="control-sidebar control-sidebar-dark">

  </aside>

</div>


